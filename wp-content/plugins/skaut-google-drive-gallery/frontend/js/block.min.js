jQuery(document).ready((function(t){"use strict";var e,n=this&&this.__extends||(e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),r=function(e){function r(t){var n=e.call(this,t)||this;return n.state={error:undefined,list:undefined},n}return n(r,e),r.prototype.componentDidMount=function(){this.ajax()},r.prototype.render=function(){var t=this,e=wp.element.createElement;if(this.state.error)return e("div",{"class":"notice notice-error"},e("p",null,this.state.error));var n=[],r=this.getAttribute("path"),o=[e("a",{onClick:function(e){t.pathClick(e)}},sgdgBlockLocalize.root_name)];if(this.state.list){0<r.length&&n.push(e("tr",null,e("td",{"class":"row-title"},e("label",{onClick:function(e){t.labelClick(e)}},".."))));for(var i=0;i<this.state.list.length;i++){var s=0===r.length&&1==i%2||0<r.length&&0==i%2?"alternate":"";n.push(e("tr",{"class":s},e("td",{"class":"row-title"},e("label",{onClick:function(e){t.labelClick(e)}},this.state.list[i]))))}for(i=0;i<r.length;i++)o.push(" > "),o.push(e("a",{"data-id":r[i],onClick:function(e){t.pathClick(e)}},r[i]))}return e(wp.element.Fragment,null,[e(wp.editor.InspectorControls,null,e(c,{editor:this})),e("table",{"class":"widefat"},[e("thead",null,e("tr",null,e("th",{"class":"sgdg-block-editor-path"},o))),e("tbody",null,n),e("tfoot",null,e("tr",null,e("th",{"class":"sgdg-block-editor-path"},o)))])])},r.prototype.getAttribute=function(t){return this.props.attributes[t]},r.prototype.setAttribute=function(t,e){var n={};n[t]=e,this.props.setAttributes(n)},r.prototype.ajax=function(){var e=this;t.get(sgdgBlockLocalize.ajax_url,{_ajax_nonce:sgdgBlockLocalize.nonce,action:"list_gallery_dir",path:this.getAttribute("path")},(function(t){!function(t){return t.error!==undefined}(t)?e.setState({list:t.directories}):e.setState({error:t.error})}))},r.prototype.pathClick=function(e){var n=this,r=this.getAttribute("path");r=r.slice(0,r.indexOf(t(e.currentTarget).data("id"))+1),this.setAttribute("path",r),this.setState({error:undefined,list:undefined},(function(){return n.ajax()}))},r.prototype.labelClick=function(e){var n=this,r=t(e.currentTarget).text(),o=this.getAttribute("path");o=".."===r?o.slice(0,o.length-1):o.concat(r),this.setAttribute("path",o),this.setState({error:undefined,list:undefined},(function(){return n.ajax()}))},r}(wp.element.Component),o=(n=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.render=function(){var t=wp.element.createElement;return t("svg",{viewBox:"0 0 128 128"},[t("path",{d:"M46.18,25.13c9.68,0,13.17,10.2,19.86,10.2h40a9.25,9.25,0,0,1,7.23,7.23V95.65a9.24,9.24,0,0,1-7.23,7.22H21.94a9.24,9.24,0,0,1-7.23-7.22V32.35a9.24,9.24,0,0,1,7.23-7.22H46.18Z",fill:"#fff"}),t("path",{d:"M46.18,27.13c9.68,0,13.17,10.2,19.86,10.2h38a7.25,7.25,0,0,1,7.23,7.23V93.65a7.24,7.24,0,0,1-7.23,7.22H23.94a7.24,7.24,0,0,1-7.23-7.22V34.35a7.24,7.24,0,0,1,7.23-7.22H46.18m0-6.44H23.94A13.69,13.69,0,0,0,10.27,34.35v59.3a13.69,13.69,0,0,0,13.67,13.66h80.12a13.69,13.69,0,0,0,13.67-13.66V44.56A13.69,13.69,0,0,0,104.06,30.9H66c-.6,0-2.65-1.81-3.75-2.79C58.75,25,53.9,20.69,46.18,20.69Z",fill:"#4385f4"}),t("image",{width:"47",height:"38",transform:"translate(23.15 57.15)",opacity:"0.5","xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAmCAYAAABUKMJkAAAACXBIWXMAAAsSAAALEgHS3X78AAAA+0lEQVRYR+2ZLQ7CQBBGXzc9RAUWNIKrIEjQoBCcBIFCg+MqnACFqNhDNFnE/rS0CcgZknlJTbNN3k6m5vuqEAIAi9u+BhqgRicd4J/bS5dfVCGELL4EzsQLaMQDR6AlXSJPuSGKr9A7+RlwB17ABmir+XVXE6Xv6YB2WmANPBxx6if0rsuY4uuIa6L5Rx1TfN2vk5oxeSlMXgqTl8LkpTB5KUxeCpOXwuSlMHkpTF4Kk5fC5KX4e/mOGB+X3Fs5xdfR597+6yd6KL4uNQ1terRPv7gOywUPHOibEU3J8XCts6eHVOvApJPSlNkP1/qjlyryQ5SVa5MiLfMG2TdPlJH519AAAAAASUVORK5CYII="}),t("rect",{x:"25.77",y:"59.3",width:"41.66",height:"32.91",rx:"3.99",fill:"#fff"}),t("path",{d:"M63.44,60.25a3.05,3.05,0,0,1,3,3V88.21a3.05,3.05,0,0,1-3,3H29.76a3.05,3.05,0,0,1-3-3V63.29a3.05,3.05,0,0,1,3-3H63.44m0-1.9H29.76a4.94,4.94,0,0,0-4.94,4.94V88.21a5,5,0,0,0,4.94,5H63.44a5,5,0,0,0,4.94-5V63.29a4.94,4.94,0,0,0-4.94-4.94Z",fill:"#25a366"}),t("polygon",{points:"52.39 65.19 42.78 80.5 38.22 73.47 27.13 89.98 28.71 91.25 64.4 91.25 66.07 90.05 52.39 65.19",fill:"#25a366"}),t("image",{width:"46",height:"38",transform:"translate(57.15 46.15)",opacity:"0.5","xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAmCAYAAAC76qlaAAAACXBIWXMAAAsSAAALEgHS3X78AAABAElEQVRYR+3ZoW3EMBSH8V+sDBEQ0BGyx03QEQoOdJIDBzpCQfFtUZARCg5kiEgucHyK1ErHLEfyR2xZBt97sQL+r4sxAvOpx4BefaxYTLc1H3Qxxiw94SrJ18aCd9xtBfQ76Y9trbHjI77wg1fc8/O4qlea5DVu+9F8WgJetsNapfcMuGAI+FTnu/6Pxw9k/wkORXh2oVaaeGmaeGmaeGmaeGmaeGmaeGmaeGmaeGmaeGmaeGmaeGmaeGmCFN0+cuejEKTYdnl2sRJSwM8apMz5CF1fMeOMJUgVnPGt3gKy9Btm023dj1IGKbm9qC92zs2d8xyoewyvqHmA9Wd49QviUUIit/OkSAAAAABJRU5ErkJggg=="}),t("rect",{x:"58.97",y:"48.62",width:"41.66",height:"32.9",rx:"3.99",fill:"#fff"}),t("path",{d:"M96.64,49.57a3,3,0,0,1,3,3V77.53a3,3,0,0,1-3,3H63a3.05,3.05,0,0,1-3-3V52.61a3,3,0,0,1,3-3H96.64m0-1.91H63a5,5,0,0,0-5,5V77.53a5,5,0,0,0,5,4.94H96.64a4.94,4.94,0,0,0,4.94-4.94V52.61a5,5,0,0,0-4.94-5Z",fill:"#ffcf4a"}),t("circle",{cx:"79.8",cy:"63.89",r:"5.32",fill:"#ffcf4a"}),t("path",{d:"M69.24,80.82c1-5.48,4.49-9.54,8.55-9.54h4c4.06,0,7.51,4.06,8.55,9.54Z",fill:"#ffcf4a"}),t("circle",{cx:"93.24",cy:"61.06",r:"3.21",fill:"#ffcf4a"}),t("path",{d:"M86.87,71.28C87.5,68,89.58,65.53,92,65.53h2.42c2.45,0,4.54,2.44,5.16,5.75Z",fill:"#ffcf4a"}),t("circle",{cx:"66.35",cy:"61.06",r:"3.21",fill:"#ffcf4a"}),t("path",{d:"M60,71.28c.63-3.31,2.71-5.75,5.16-5.75h2.42c2.45,0,4.53,2.44,5.16,5.75Z",fill:"#ffcf4a"})])},e}(wp.element.Component));wp.blocks.registerBlockType("skaut-google-drive-gallery/gallery",{title:sgdgBlockLocalize.block_name,description:sgdgBlockLocalize.block_description,category:"media",icon:o,attributes:{path:{type:"array","default":[]},grid_height:{type:"number"},grid_spacing:{type:"number"},dir_counts:{type:"string"},page_size:{type:"number"},page_autoload:{type:"string"},image_ordering_order:{type:"string"},image_ordering_by:{type:"string"},dir_ordering_order:{type:"string"},dir_ordering_by:{type:"string"},preview_size:{type:"number"},preview_loop:{type:"string"}},edit:r,save:function(){return null},transforms:{from:[{type:"shortcode",tag:"sgdg",priority:15,attributes:{path:{type:"string",shortcode:function(t){return t.named.path?t.named.path.trim().replace(/^\/+|\/+$/g,"").split("/"):[]}}}}]}});n=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var i=function(t){function e(e){var n=t.call(this,e)||this,r=n.props.editor.getAttribute(n.props.name);return undefined===r&&(r=sgdgBlockLocalize[n.props.name]["default"]),n.state={value:r},n}return n(e,t),e.prototype.render=function(){var t=this,e=wp.element.createElement,n=undefined===this.props.editor.getAttribute(this.props.name);return e("div",{className:"sgdg-block-settings-row "},[e(wp.components.ToggleControl,{checked:!n,className:"sgdg-block-settings-checkbox",onChange:function(){t.toggle()}}),e("span",{className:"sgdg-block-settings-description"},[sgdgBlockLocalize[this.props.name].name,":"]),this.renderInput()])},e.prototype.change=function(t){var e=this.getValue(t.target);this.setState({value:e}),this.props.editor.setAttribute(this.props.name,undefined===e?sgdgBlockLocalize[this.props.name]["default"]:e)},e.prototype.toggle=function(){this.props.editor.setAttribute(this.props.name,undefined!==this.props.editor.getAttribute(this.props.name)?undefined:this.state.value)},e}(wp.element.Component),s=(n=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.renderInput=function(){var t=this,e=wp.element.createElement,n=undefined===this.props.editor.getAttribute(this.props.name);return e("input",{checked:"true"===this.state.value,className:"sgdg-block-settings-boolean",disabled:n,onChange:function(e){t.change(e)},type:"checkbox"})},e.prototype.getValue=function(t){return t.checked?"true":"false"},e}(i)),a=(n=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.renderInput=function(){var t=this;return(0,wp.element.createElement)("input",{className:"sgdg-block-settings-integer components-range-control__number",disabled:undefined===this.props.editor.getAttribute(this.props.name),onChange:function(e){t.change(e)},placeholder:sgdgBlockLocalize[this.props.name]["default"],type:"number",value:this.state.value})},e.prototype.getValue=function(t){var e=parseInt(t.value);return isNaN(e)?undefined:e},e}(i)),p=(n=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),function(t){function e(e){var n=t.call(this,e)||this,r=n.props.editor.getAttribute(n.props.name+"_by"),o=n.props.editor.getAttribute(n.props.name+"_order");return undefined===r&&(r=sgdgBlockLocalize[n.props.name].default_by),undefined===o&&(o=sgdgBlockLocalize[n.props.name].default_order),n.state={valueBy:r,valueOrder:o},n}return n(e,t),e.prototype.render=function(){var t=this,e=wp.element.createElement,n=undefined===this.props.editor.getAttribute(this.props.name+"_by"),r=undefined===this.props.editor.getAttribute(this.props.name+"_order"),o=this.state.valueBy,i=this.state.valueOrder;return e("div",{className:"sgdg-block-settings-row"},[e(wp.components.ToggleControl,{checked:!n&&!r,className:"sgdg-block-settings-checkbox",onChange:function(){t.toggle()}}),e("span",{className:"sgdg-block-settings-description"},[sgdgBlockLocalize[this.props.name].name,":"]),e("select",{className:"sgdg-block-settings-select",disabled:r,onChange:function(e){t.changeOrder(e)},placeholder:sgdgBlockLocalize[this.props.name].default_order,type:"number",value:i},[e("option",{selected:"ascending"===i,value:"ascending"},sgdgBlockLocalize.ordering_option_ascending),e("option",{selected:"descending"===i,value:"descending"},sgdgBlockLocalize.ordering_option_descending)]),e("label",{className:"sgdg-block-settings-radio","for":this.props.name+"_by_time"},[e("input",{checked:"time"===o,disabled:n,id:this.props.name+"_by_time",name:this.props.name+"_by",onChange:function(e){t.changeBy(e)},type:"radio",value:"time"}),sgdgBlockLocalize.ordering_option_by_time]),e("label",{className:"sgdg-block-settings-radio","for":this.props.name+"_by_name"},[e("input",{checked:"name"===o,disabled:n,id:this.props.name+"_by_name",name:this.props.name+"_by",onChange:function(e){t.changeBy(e)},type:"radio",value:"name"}),sgdgBlockLocalize.ordering_option_by_name])])},e.prototype.toggle=function(){this.props.editor.setAttribute(this.props.name+"_by",undefined!==this.props.editor.getAttribute(this.props.name+"_by")?undefined:this.state.valueBy),this.props.editor.setAttribute(this.props.name+"_order",undefined!==this.props.editor.getAttribute(this.props.name+"_order")?undefined:this.state.valueOrder)},e.prototype.changeBy=function(t){var e=t.target;this.setState({valueBy:e.value}),this.props.editor.setAttribute(this.props.name+"_by",e.value)},e.prototype.changeOrder=function(t){var e=t.target;this.setState({valueOrder:e.value}),this.props.editor.setAttribute(this.props.name+"_order",e.value)},e}(wp.element.Component)),c=(n=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.render=function(){var t=wp.element.createElement;return t(wp.components.PanelBody,{title:sgdgBlockLocalize.settings_override,className:"sgdg-block-settings",children:[t("h3",null,sgdgBlockLocalize.grid_section_name),t(a,{editor:this.props.editor,name:"grid_height"}),t(a,{editor:this.props.editor,name:"grid_spacing"}),t(s,{editor:this.props.editor,name:"dir_counts"}),t(a,{editor:this.props.editor,name:"page_size"}),t(s,{editor:this.props.editor,name:"page_autoload"}),t(p,{editor:this.props.editor,name:"image_ordering"}),t(p,{editor:this.props.editor,name:"dir_ordering"}),t("h3",null,sgdgBlockLocalize.lightbox_section_name),t(a,{editor:this.props.editor,name:"preview_size"}),t(s,{editor:this.props.editor,name:"preview_loop"})]})},e}(wp.element.Component))}));